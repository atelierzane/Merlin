<Window x:Class="MerlinPointOfSale.PointOfSaleWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:MerlinPointOfSale.Converters"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Title="PointOfSaleWindow" Height="1080" Width="1920">

    <Window.Resources>

        <local:StrikethroughConverter x:Key="StrikethroughConverter"/>
        <local:PriceComparisonConverter x:Key="PriceComparisonConverter" />
        <local:StrikethroughVisibilityConverter x:Key="StrikethroughVisibilityConverter"/>
        <local:AdjustedPriceVisibilityConverter x:Key="AdjustedPriceVisibilityConverter"/>
        <local:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

        <!-- Product DataTemplate -->
        <DataTemplate x:Key="ProductTemplate">
            <StackPanel Orientation="Vertical">
                <TextBlock Text="{Binding ProductName}" FontWeight="Bold" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="SKU: " />
                    <TextBlock Text="{Binding SKU}" />
                    <TextBlock Text=", Price: " />
                    <TextBlock Text="{Binding Price, StringFormat=C}" />
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <!-- Combo DataTemplate -->
        <DataTemplate x:Key="ComboTemplate">
            <StackPanel Orientation="Vertical">
                <TextBlock Text="{Binding ComboName}" FontWeight="Bold" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Combo SKU: " />
                    <TextBlock Text="{Binding ComboSKU}" />
                    <TextBlock Text=", Combo Price: " />
                    <TextBlock Text="{Binding ComboPrice, StringFormat=C}" />
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplateSelector to choose between ProductTemplate and ComboTemplate -->
        <local:SearchResultTemplateSelector 
        x:Key="SearchResultTemplateSelector"
        ProductTemplate="{StaticResource ProductTemplate}"
        ComboTemplate="{StaticResource ComboTemplate}" />

    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="60"/>
            <RowDefinition />
            <RowDefinition Height="200"/>
            <RowDefinition Height="70"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="550" />
        </Grid.ColumnDefinitions>

        <!-- ITEM SEARCH SECTION -->
        <StackPanel Grid.Row="1"
                    Grid.Column="0"
                    Orientation="Horizontal">
            <TextBox x:Name="txtSearchSKU"
                     Width="255"
                     Height="30"
                     Margin="10,0,0,0"/>

            <Button Content="Search"
                    Height="30"
                    Width="91"
                    Click="OnBtnSearch_Click"/>
            <ComboBox x:Name="cbSearchResults" Width="400" Height="30"  ItemTemplateSelector="{StaticResource SearchResultTemplateSelector}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Vertical">
                            <TextBlock Text="{Binding ProductName}" FontWeight="Bold" />
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="SKU: " />
                                <TextBlock Text="{Binding SKU}" />
                                <TextBlock Text=", Price: " />
                                <TextBlock Text="{Binding Price, StringFormat=C}" />
                                <TextBlock Text=", Category: " />
                                <TextBlock Text="{Binding CategoryName}" />
                            </StackPanel>
                            <!-- Buttons for adding to sale, trade, or return -->
                            <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                                <Button Content="Add to Sale" Width="80" Click="OnAddToSale_Click" />
                                <Button Content="Add to Trade" Width="80" Margin="5,0,0,0" Click="OnAddToTrade_Click" />
                                <Button Content="Add to Return" Width="80" Margin="5,0,0,0" Click="OnAddToReturn_Click" />
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <Button x:Name="btnToggleQuickSelect"
                    Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="0,5,5,5"
                    Click="OnToggleQuickSelect_Click">
                <StackPanel Orientation="Horizontal">
                    <fa:IconImage Icon="Grip" Style="{StaticResource DarkMinimalistButtonIcon}" />
                    <TextBlock Text="Show Quick Select" Style="{StaticResource DarkMinimalistButtonText}" />
                </StackPanel>
            </Button>
        </StackPanel>



        <!-- SALES/TRADES/RETURNS SECTION -->

        <Border Grid.Row="2"
                Grid.Column="0"
                Margin="10,10,5,5"
                CornerRadius="5">

            <Border.Effect>
                <DropShadowEffect ShadowDepth="3"/>
            </Border.Effect>

            <Border.Background>
                <LinearGradientBrush>
                    <GradientStop Color="{StaticResource windowBackgroundGradientStop1}" Offset="0"/>
                    <GradientStop Color="{StaticResource windowBackgroundGradientStop2}" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>

            <Grid Grid.Row="1"
                  Grid.Column="0">
                <TabControl x:Name="TabsControl"
                            Background="Transparent"
                            BorderThickness="0"
                            Margin="1">
                    <TabItem x:Name="SalesTab"
                             Header="Sales"
                             Background="Transparent"
                             BorderBrush="Transparent"
                             Width="435"
                             Height="50"
                             FontFamily="Inter"
                             FontSize="18"
                             FontWeight="Semibold"
                             BorderThickness="0">

                        <Grid Background="Transparent">
                            <ListView x:Name="lvSaleItems" Background="Transparent" BorderThickness="0" FontFamily="Inter" FontSize="14">
                                <ListView.View>
                                    <GridView>

                                        <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                                        <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                                        <GridViewColumn Header="Price" Width="727" DisplayMemberBinding="{Binding Price, StringFormat=C}" />
                                        <GridViewColumn Header="Actions" Width="150">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Content="Remove" 
                                                            Click="OnRemoveFromSale_Click" 
                                                            Visibility="{Binding IsPartOfCombo, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=False}" />
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>



                        </Grid>
                    </TabItem>

                    <TabItem x:Name="TradesTab"
                             Header="Trades"
                             Background="Transparent"
                             BorderBrush="Transparent"
                             Width="435"
                             Height="50"
                             FontFamily="Inter"
                             FontSize="18"
                             FontWeight="Semibold"
                             BorderThickness="0">
                        <Grid Background="Transparent">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="104*"/>
                                <ColumnDefinition Width="777*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.ColumnSpan="2">
                                <ListView x:Name="lvTradeItems" Background="Transparent" BorderThickness="0"  FontFamily="Inter" FontSize="14">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                                            <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                                            <GridViewColumn Header="Trade Value" Width="727" DisplayMemberBinding="{Binding TradeValue, StringFormat=C}" />
                                            <GridViewColumn Header="Actions" Width="150">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Content="Remove" Click="OnRemoveFromTrade_Click" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>

                            </StackPanel>
                            <Button Margin="6,5,5,5"
                                    Width="150"
                                    Grid.Column="2"
                                    VerticalAlignment="Bottom"
                                    HorizontalAlignment="Right"
                                    Content="Capture Trade Info"/>

                        </Grid>
                    </TabItem>
                    <TabItem x:Name="ReturnsTab"
                             Header="Returns"
                             Background="Transparent"
                             BorderBrush="Transparent"
                             Width="435"
                             Height="50"
                             FontFamily="Inter"
                             FontSize="18"
                             FontWeight="Semibold"
                             BorderThickness="0">
                        <Grid Background="Transparent">
                            <ListView x:Name="lvReturnItems" Background="Transparent" BorderThickness="0"  FontFamily="Inter" FontSize="14">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                                        <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                                        <GridViewColumn Header="Price" Width="727" DisplayMemberBinding="{Binding Price, StringFormat=C}" />
                                        <GridViewColumn Header="Actions" Width="150">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Content="Remove" Click="OnRemoveFromReturn_Click" />
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>

                        </Grid>
                    </TabItem>
                </TabControl>
            </Grid>
        </Border>

        <!-- CUSTOMER LOOKUP SECTION -->
        <Border Grid.Row="3"
        Grid.Column="0"
        Grid.RowSpan="2"
        Margin="10,5,5,10"
        CornerRadius="5">

            <Border.Effect>
                <DropShadowEffect ShadowDepth="3"/>
            </Border.Effect>

            <Border.Background>
                <LinearGradientBrush>
                    <GradientStop Color="{StaticResource windowBackgroundGradientStop1}" Offset="0"/>
                    <GradientStop Color="{StaticResource windowBackgroundGradientStop2}" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>

            <Grid Grid.Row="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="480" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.RowSpan="2">
                    <StackPanel Orientation="Horizontal"
                        VerticalAlignment="Center">
                        <TextBlock Text="Customer Information"
                           Margin="10,15,10,10"
                           FontFamily="Inter"
                           FontSize="18"
                           FontWeight="Medium"
                           Foreground="#181818"/>

                        <TextBox x:Name="txtCustomerSearch"
                         Margin="0,10,0,5"
                         Height="35"
                         Padding="5"
                         FontFamily="Inter"
                         FontSize="14"
                         FontWeight="Medium"
                         VerticalContentAlignment="Center"
                         Foreground="#181818" 
                         Width="845"
                         Background="Transparent"
                         BorderBrush="Gray"
                         BorderThickness="0,0,0,1"/>
                    </StackPanel>

                    <Rectangle Height="1" Margin="10,2.5,10,0" Fill="Black"/>

                    <StackPanel Margin="10">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="txtFirstName"
                               Text="First Name"
                               FontSize="24"
                               FontFamily="Inter"
                               FontWeight="Medium"/>
                            <TextBlock x:Name="txtLastName"
                               Text="Last Name"
                               FontSize="24"
                               FontFamily="Inter"
                               FontWeight="Medium"/>
                        </StackPanel>

                        <TextBlock x:Name="txtCustomerID"
                           Text="Customer ID"
                           FontSize="12"
                           FontFamily= "Inter"
                           FontWeight="Regular"
                           FontStyle="Italic"
                           Foreground="Gray"
                           Margin="5"/>

                        <TextBlock x:Name="txtPhoneNumber"
                           Text="Phone Number"
                           FontSize="12"
                           FontFamily= "Inter"
                           FontWeight="Regular"
                           FontStyle="Italic"
                           Foreground="Gray"
                           Margin="5"/>

                        <TextBlock x:Name="txtEmail"
                           Text="Email Address"
                           FontSize="12"
                           FontFamily= "Inter"
                           FontWeight="Regular"
                           FontStyle="Italic"
                           Foreground="Gray"
                           Margin="5"/>

                        <TextBlock x:Name="txtLoyalty"
                           Text="Loyalty Points"
                           FontSize="12"
                           FontFamily= "Inter"
                           FontWeight="Regular"
                           FontStyle="Italic"
                           Foreground="Gray"
                           Margin="5"/>
                    </StackPanel>
                </StackPanel>

                <!-- Buttons for adding/searching customers -->
                <StackPanel Grid.Column="1" Orientation="Horizontal">

                    <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="145" Margin="5,5,5,5"
                             Click="OnSearchCustomer_Click">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="UsersViewfinder" Style="{StaticResource DarkMinimalistButtonIcon}" />
                            <TextBlock Text="Customer Search" Style="{StaticResource DarkMinimalistButtonText}" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="145" Margin="5,5,5,5"
                             Click="OnAddCustomer_Click">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="UserPlus" Style="{StaticResource DarkMinimalistButtonIcon}" />
                            <TextBlock Text="Add New Customer" Style="{StaticResource DarkMinimalistButtonText}" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="100" Margin="0,5,5,5"
                                    >
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Trophy" Style="{StaticResource DarkMinimalistButtonIcon}" />
                            <TextBlock Text="Rewards" Style="{StaticResource DarkMinimalistButtonText}" />
                        </StackPanel>
                    </Button>


                </StackPanel>
            </Grid>
        </Border>

        <Grid x:Name="QuickSelectPanel" Grid.Row="2" Grid.Column="0" Margin="10,10,5,5" Visibility="Collapsed">
            <Border CornerRadius="5" Background="LightGray">
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="3"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Quick Select" FontSize="16" FontWeight="Bold" Margin="10,5,0,5"/>

                    <!-- Section for Products -->
                    <TextBlock Text="Products" FontSize="14" FontWeight="SemiBold" Margin="10,5,0,5"/>
                    <UniformGrid x:Name="QuickSelectProductGrid" Rows="3" Columns="4" Margin="10"/>

                    <!-- Section for Combos -->
                    <TextBlock Text="Combos" FontSize="14" FontWeight="SemiBold" Margin="10,15,0,5"/>
                    <UniformGrid x:Name="QuickSelectComboGrid" Rows="3" Columns="4" Margin="10"/>
                </StackPanel>
            </Border>
        </Grid>




        <!-- SUMMARY SECTION -->
        <Border Grid.Row="1"
                Grid.Column="1"
                Grid.RowSpan="4"
                Margin="5,10,10,10"
                CornerRadius="5">

            <Border.Background>
                <LinearGradientBrush>
                    <GradientStop Color="{StaticResource windowBackgroundGradientStop1}" Offset="0"/>
                    <GradientStop Color="{StaticResource windowBackgroundGradientStop2}" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>

            <Border.Effect>
                <DropShadowEffect ShadowDepth="3"/>
            </Border.Effect>

            <Grid Grid.Row="1"
                  Grid.Column="1"
                  Grid.RowSpan="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="60"/>
                    <RowDefinition/>
                    <RowDefinition Height="75"/>
                    <RowDefinition Height="115"/>
                    <RowDefinition Height="100"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0"
                            Grid.Column="1"
                            Grid.ColumnSpan="2"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right">
                    <Button Content="Add Item"
                            Width="150"
                            Margin="5"/>

                    <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="100" Margin="245,5,5,5"
                             >
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="PlusCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                            <TextBlock Text="Add Item" Style="{StaticResource DarkMinimalistButtonText}" />
                        </StackPanel>

                    </Button>

                    <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="0,5,5,5"
                             Click="OnApplyPromotions_Click">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Gifts" Style="{StaticResource DarkMinimalistButtonIcon}" />
                            <TextBlock Text="Apply Promotions" Style="{StaticResource DarkMinimalistButtonText}" />
                        </StackPanel>

                    </Button>

                    <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="0,5,5,5"
                             Click="OnBtnViewEditTransaction_Click">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="InfoCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                            <TextBlock Text="View/Edit Transaction" Style="{StaticResource DarkMinimalistButtonText}" />
                        </StackPanel>

                    </Button>

                </StackPanel>

                <StackPanel Grid.Row="1"
                            Margin="10,20,10,5">

                    <StackPanel Orientation="Horizontal"
                                VerticalAlignment="Center">
                        <StackPanel Width="500">
                            <StackPanel Orientation="Horizontal" 
                                        Width="600"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Left">

                                <TextBlock Text="Transaction: "
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           Margin=" 1,0,0,0"/>

                                <TextBlock x:Name="txtTransactionNumber"
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           Margin=" 1,0,10,0"/>

                                <TextBlock Text="Register: "
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           Margin=" 1,0,0,0"/>

                                <TextBlock x:Name="txtRegisterNumber"
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           Margin=" 1,0,20,0"/>

                                <TextBlock Text="Associate: "
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           TextAlignment="Right"/>

                                <TextBlock x:Name="txtEmployeeName"
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           Text="{Binding employeeName}"
                                           TextAlignment="Right"
                                           Margin=" 1,0,20,0"/>

                                <TextBlock Text="Store: "
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"/>

                                <TextBlock x:Name="txtLocationID"
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           TextAlignment="Right" 
                                           Width="50"
                                           Margin=" 1,0,10,0"/>

                                <TextBlock x:Name="txtEmployeeID"
                                           FontSize="12"
                                           FontFamily="Inter"
                                           FontWeight="Medium"
                                           Foreground="Gray"
                                           Text="{Binding employeeID}"
                                           TextAlignment="Right"
                                           Opacity="1"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                    <Rectangle Height="1"
                               Width="520"
                               Fill="Black"/>
                </StackPanel>

                <ListView x:Name="lvSummary"  
                          Grid.Row="1" 
                          Margin="10,55,10,10" 
                          FontFamily="Inter" 
                          FontWeight="Regular" 
                          Background="Transparent" 
                          BorderThickness="0" 
                          ItemsSource="{Binding SummaryItems}">
                    <ListView.GroupStyle>
                        <GroupStyle>
                            <GroupStyle.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16" Foreground="Gray" />
                                </DataTemplate>
                            </GroupStyle.HeaderTemplate>
                        </GroupStyle>
                    </ListView.GroupStyle>

                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                            <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                            <GridViewColumn Header="Price" Width="100" DisplayMemberBinding="{Binding Value, StringFormat=C}" />
                            <GridViewColumn Header="Category ID" DisplayMemberBinding="{Binding CategoryID}" Width="Auto"/>
                            <GridViewColumn Header="Discount" Width="100" DisplayMemberBinding="{Binding DiscountAmount, StringFormat=C}" />
                            <GridViewColumn Header="Promotions Applied" Width="300">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding PromotionsApplied}" TextWrapping="Wrap" />
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Actions" Width="150">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Content="Remove" Click="OnRemoveFromSummary_Click" />
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                        </GridView>

                    </ListView.View>
                </ListView>




                <StackPanel Grid.Row="2"
                            Margin="10,5,10,5">

                    <Rectangle Height="1"
                              Width="520"
                              Margin="0,-25,0,0"
                              Fill="Black"/>

                    <StackPanel Orientation="Horizontal">

                        <StackPanel Width="255">

                            <StackPanel>

                                <StackPanel Orientation="Horizontal">
                                    <TextBlock 
                                              Text="Purchases Subtotal: "
                                              FontSize="12"
                                              FontFamily="Inter"
                                              FontWeight="Medium"
                                              Foreground="Gray"
                                              Margin="0,0,60,0"/>

                                    <TextBlock x:Name="txtSubtotal" 
                                                  Text="{Binding Subtotal, StringFormat=C2}"
                                                  FontSize="12"
                                                  FontFamily="Inter"
                                                  FontWeight="Medium"
                                                  Foreground="Gray"
                                                  TextAlignment="Right" />

                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                           Margin="0,10,0,0">

                                    <TextBlock Text="Taxes Total: "
                                              FontSize="12"
                                              FontFamily="Inter"
                                              FontWeight="Medium"
                                              Foreground="Gray"
                                              Margin="0,0,106,0"/>
                                    <TextBlock x:Name="txtTaxes"
                                              Text="{Binding Taxes, StringFormat=C2}"
                                              FontSize="12"
                                              FontFamily="Inter"
                                              FontWeight="Medium"
                                              Foreground="Gray"
                                              TextAlignment="Right" />

                                </StackPanel>

                            </StackPanel>

                        </StackPanel>

                        <StackPanel Width="255">

                            <StackPanel>

                                <StackPanel Orientation="Horizontal">

                                    <TextBlock Text="Trades Total: "
                                              FontSize="12"
                                              FontFamily="Inter"
                                              FontWeight="Medium"
                                              Foreground="Gray"
                                                  Margin="35,0,85,0"/>

                                    <TextBlock x:Name="txtTradeCredit"
                                              Text="{Binding Trades, StringFormat=C2}"
                                              FontSize="12"
                                              FontFamily="Inter"
                                              FontWeight="Medium"
                                              Foreground="Gray"
                                              TextAlignment="Right" />

                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                            Margin="0,10,0,0">

                                    <TextBlock Text="Returns Subtotal: "
                                              FontSize="12"
                                              FontFamily="Inter"
                                              FontWeight="Medium"
                                              Foreground="Gray"
                                              HorizontalAlignment="Right"
                                                  Margin="35,0,60,0"/>

                                    <TextBlock x:Name="txtReturnsSubtotal"
                                              Text="{Binding Returns, StringFormat=C2}"
                                              FontSize="12"
                                              FontFamily="Inter"
                                              FontWeight="Medium"
                                              Foreground= "Gray"
                                              TextAlignment="Right"/>

                                </StackPanel>

                            </StackPanel>

                        </StackPanel>

                    </StackPanel>

                    <Rectangle Height="1"
                               Width="520"
                               Margin="0,15,0,0"
                               Fill="Black"/>

                </StackPanel>
                <StackPanel Grid.Row="3"
                            Margin="10,10,10,5"
                            HorizontalAlignment="Right"
                            DataContext="{Binding transactionSummary, RelativeSource={RelativeSource AncestorType=Window}}">

                    <TextBlock x:Name="txtTotal"
                               Text="{Binding Total, StringFormat=C2}" 
                               FontFamily="Inter"
                               FontSize="50"
                               FontWeight="Light"
                               Foreground="#181818"
                               TextAlignment="Right"/>

                    <TextBlock Margin="0,0,5,0"
                               Text="Total"
                               FontFamily="Inter"
                               FontSize="10"
                               FontWeight="Medium"
                               Foreground="Gray"
                               TextAlignment="Right"/>
                </StackPanel>



                <StackPanel Grid.Row="4"
                            Margin="10,5,10,5">

                    <Rectangle Height="1"
                             Width="520"
                             Margin="0,-25,0,0"
                             Fill="Black"/>

                    <StackPanel Orientation="Horizontal">

                        <StackPanel Width="255">

                            <StackPanel>

                                <StackPanel Orientation="Horizontal">

                                    <TextBlock Text="Discounts: "
                                               FontSize="12"
                                               FontFamily="Inter"
                                               FontWeight="Medium"
                                               Foreground="Gray"
                                                Margin="0,0,114,0"/>

                                    <TextBlock x:Name="txtDiscounts" 
                                               Text="{Binding Discounts, StringFormat=C2}"
                                               FontSize="12"
                                               FontFamily="Inter"
                                               FontWeight="Medium"
                                               Foreground="Gray"
                                               TextAlignment="Right" />

                                </StackPanel>



                            </StackPanel>

                        </StackPanel>

                        <StackPanel Width="255">

                            <StackPanel>

                                <StackPanel Orientation="Horizontal">

                                    <TextBlock Text="Trade Bonuses: "
                                                 FontSize="12"
                                                 FontFamily="Inter"
                                                 FontWeight="Medium"
                                                 Foreground="Gray"/>

                                    <TextBlock  x:Name="txtTradeBonuses"
                                                 Margin="0,0,65,0"
                                                 FontSize="12"
                                                 FontFamily="Inter"
                                                 FontWeight="Medium"
                                                 Foreground="Gray"
                                                 TextAlignment="Right"/>

                                </StackPanel>



                            </StackPanel>

                        </StackPanel>

                    </StackPanel>

                    <Rectangle Height="1"
                                 Width="520"
                                 Margin="0,10,0,0"
                                 Fill="Black"/>



                </StackPanel>

            </Grid>


        </Border>



        <StackPanel Grid.Row="4"
                    Grid.Column="1"
                    Orientation="Horizontal"
                    VerticalAlignment="Center" Margin="5,0,0,5">


            <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="150" Margin="5" Height="45"
                           Click="OnSuspendTransaction_Click">
                <StackPanel Orientation="Horizontal">
                    <fa:IconImage Icon="PauseCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                    <TextBlock Text="Suspend" Style="{StaticResource CheckoutButtonText}" />
                </StackPanel>

            </Button>


            <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="150" Margin="5" Height="45"
                           >
                <StackPanel Orientation="Horizontal">
                    <fa:IconImage Icon="StopCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                    <TextBlock Text="Void" Style="{StaticResource CheckoutButtonText}" />
                </StackPanel>

            </Button>

            <Button Style="{StaticResource CheckOutButton}" Width="205" Margin="5"
                             Click="OnBtnCheckOut_Click">
                <StackPanel Orientation="Horizontal">
                    <fa:IconImage Icon="ShoppingCart" Style="{StaticResource DarkMinimalistButtonIcon}" />
                    <TextBlock Text="Check Out" Style="{StaticResource CheckoutButtonText}" />
                </StackPanel>

            </Button>


        </StackPanel>
        <Frame x:Name="pointOfSaleFrame" Grid.RowSpan="5" NavigationUIVisibility="Hidden" Navigated="pointOfSaleFrame_Navigated" Margin="-10,10,0,0"/>


    </Grid>
</Window>
