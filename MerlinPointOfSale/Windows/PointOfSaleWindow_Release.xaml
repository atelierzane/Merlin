<Window x:Class="MerlinPointOfSale.Windows.PointOfSaleWindow_Release"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:winex="https://github.com/yariker/WindowExtras.Wpf"
        xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
        xmlns:local="clr-namespace:MerlinPointOfSale.Controls"
        xmlns:converters="clr-namespace:MerlinPointOfSale.Converters"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PointOfSaleWindow"
        Height="1080"
        Width="1920"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        x:Name="mainWindow">



    <Window.Resources>

        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Style/WindowResources.xaml" />
                <ResourceDictionary Source="/Style/Animations.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <converters:StrikethroughConverter x:Key="StrikethroughConverter"/>
            <converters:PriceComparisonConverter x:Key="PriceComparisonConverter" />
            <converters:StrikethroughVisibilityConverter x:Key="StrikethroughVisibilityConverter"/>
            <converters:AdjustedPriceVisibilityConverter x:Key="AdjustedPriceVisibilityConverter"/>
            <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

            <!-- Product DataTemplate -->
            <DataTemplate x:Key="ProductTemplate">
                <StackPanel Orientation="Vertical">
                    <TextBlock Text="{Binding ProductName}" FontWeight="Bold" />
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="SKU: " />
                        <TextBlock Text="{Binding SKU}" />
                        <TextBlock Text=", Price: " />
                        <TextBlock Text="{Binding Price, StringFormat=C}" />
                    </StackPanel>
                </StackPanel>
            </DataTemplate>

            <!-- Combo DataTemplate -->
            <DataTemplate x:Key="ComboTemplate">
                <StackPanel Orientation="Vertical">
                    <TextBlock Text="{Binding ComboName}" FontWeight="Bold" />
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Combo SKU: " />
                        <TextBlock Text="{Binding ComboSKU}" />
                        <TextBlock Text=", Combo Price: " />
                        <TextBlock Text="{Binding ComboPrice, StringFormat=C}" />
                    </StackPanel>
                </StackPanel>
            </DataTemplate>

            <!-- DataTemplateSelector to choose between ProductTemplate and ComboTemplate -->
            <converters:SearchResultTemplateSelector 
                    x:Key="SearchResultTemplateSelector"
                    ProductTemplate="{StaticResource ProductTemplate}"
                    ComboTemplate="{StaticResource ComboTemplate}" />
        </ResourceDictionary>

    </Window.Resources>


    <!-- Main Content -->
    <Grid x:Name="mainGrid" Margin="5" >
        <Grid.RenderTransform>
            <TranslateTransform X="0" Y="0" />
        </Grid.RenderTransform>
        <Border x:Name="mainBorder" 
                Style="{StaticResource mainBorderStyle}"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Margin="0">
            <Border.Background>
                <SolidColorBrush Color="Black" Opacity="0.01"/>
            </Border.Background>
        </Border>

        <Grid x:Name="ContentGrid" ClipToBounds="False">
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="60"/>
                <RowDefinition />
                <RowDefinition Height="200"/>
                <RowDefinition Height="70"/>
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="700" />
            </Grid.ColumnDefinitions>

            <Grid.RenderTransform>
                <TranslateTransform X="0" Y="0"/>
            </Grid.RenderTransform>

            <Border x:Name="titleBarBg" Style="{StaticResource mainBorderBackground}" Grid.Row="0" Opacity=".475" Grid.ColumnSpan="2" Margin="1.5,1.5,1.5,0"/>
            <Border x:Name="mainBg" Style="{StaticResource mainBorderBackground}" Grid.Row="1" Opacity=".625" Grid.Column="0" Grid.RowSpan="4" Grid.ColumnSpan="2" Margin="1.5,0,1.5,1.5"/>

            <!-- Glow Separator -->
            <Rectangle x:Name="glowSeparator" Height="1" Grid.Row="0" Grid.ColumnSpan="2" Width="2560" HorizontalAlignment="Center" Opacity=".325" Margin="0,39,0,0"/>
            <Rectangle x:Name="glowSeparatorBG" Height="40" Grid.Row="0" Grid.ColumnSpan="2" Width="2560" HorizontalAlignment="Center" Opacity=".045" Margin="0,0,0,0" IsHitTestVisible="False"/>

            <Canvas x:Name="glowEffectCanvas" Background="Transparent" Grid.ColumnSpan="2" IsHitTestVisible="False"/>

            <local:DialogWindowTitleBar x:Name="windowTitleBar" Title="Dynamic Title - Merlin ROS" Grid.Row="0" Grid.ColumnSpan="2"/>




            <!-- SALES/TRADES/RETURNS SECTION -->
            <Border Grid.Row="2"
                      Grid.Column="0"
                      Margin="10,10,5,5"
                      CornerRadius="5">

                <Border.Background>
                    <LinearGradientBrush>
                        <GradientStop Color="{StaticResource windowBackgroundGradientStop1}" Offset="0"/>
                        <GradientStop Color="{StaticResource windowBackgroundGradientStop2}" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <Grid Grid.Row="1"
                        Grid.Column="0">
                    <TabControl x:Name="TabsControl"
                                  Background="Transparent"
                                  BorderThickness="0"
                                  Margin="1">
                        <TabItem x:Name="SalesTab"
                                   Header="Sales"
                                   Background="Transparent"
                                   BorderBrush="Transparent"
                                   Width="435"
                                   Height="50"
                                   FontFamily="Inter"
                                   FontSize="18"
                                   FontWeight="Semibold"
                                   BorderThickness="0">

                            <Grid Background="Transparent">
                                <ListView x:Name="lvSaleItems" Background="Transparent" BorderThickness="0" FontFamily="Inter" FontSize="14">
                                    <ListView.View>
                                        <GridView>

                                            <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                                            <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                                            <GridViewColumn Header="Price" Width="727" DisplayMemberBinding="{Binding Price, StringFormat=C}" />
                                            <GridViewColumn Header="Actions" Width="150">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Content="Remove" 
                                                      Click="OnRemoveFromSale_Click" 
                                                      Visibility="{Binding IsPartOfCombo, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=False}" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>



                            </Grid>
                        </TabItem>

                        <TabItem x:Name="TradesTab"
                                   Header="Trades"
                                   Background="Transparent"
                                   BorderBrush="Transparent"
                                   Width="435"
                                   Height="50"
                                   FontFamily="Inter"
                                   FontSize="18"
                                   FontWeight="Semibold"
                                   BorderThickness="0">
                            <Grid Background="Transparent">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="104*"/>
                                    <ColumnDefinition Width="777*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.ColumnSpan="2">
                                    <ListView x:Name="lvTradeItems" Background="Transparent" BorderThickness="0"  FontFamily="Inter" FontSize="14">
                                        <ListView.View>
                                            <GridView>
                                                <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                                                <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                                                <GridViewColumn Header="Trade Value" Width="727" DisplayMemberBinding="{Binding TradeValue, StringFormat=C}" />
                                                <GridViewColumn Header="Actions" Width="150">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Button Content="Remove" Click="OnRemoveFromTrade_Click" />
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>
                                            </GridView>
                                        </ListView.View>
                                    </ListView>

                                </StackPanel>
                                <Button Margin="6,5,5,5"
                                          Width="150"
                                          Grid.Column="2"
                                          VerticalAlignment="Bottom"
                                          HorizontalAlignment="Right"
                                          Content="Capture Trade Info"/>

                            </Grid>
                        </TabItem>
                        <TabItem x:Name="ReturnsTab"
                                   Header="Returns"
                                   Background="Transparent"
                                   BorderBrush="Transparent"
                                   Width="435"
                                   Height="50"
                                   FontFamily="Inter"
                                   FontSize="18"
                                   FontWeight="Semibold"
                                   BorderThickness="0">
                            <Grid Background="Transparent">
                                <ListView x:Name="lvReturnItems" Background="Transparent" BorderThickness="0"  FontFamily="Inter" FontSize="14">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                                            <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                                            <GridViewColumn Header="Price" Width="727" DisplayMemberBinding="{Binding Price, StringFormat=C}" />
                                            <GridViewColumn Header="Actions" Width="150">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Content="Remove" Click="OnRemoveFromReturn_Click" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>

                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </Border>

            <!-- CUSTOMER LOOKUP SECTION -->
            <Border Grid.Row="3"
                   Grid.Column="0"
                   Grid.RowSpan="2"
                   Margin="10,5,5,10"
                   CornerRadius="5">

                <Border.Background>
                    <LinearGradientBrush>
                        <GradientStop Color="{StaticResource windowBackgroundGradientStop1}" Offset="0"/>
                        <GradientStop Color="{StaticResource windowBackgroundGradientStop2}" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <Grid Grid.Row="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="418" />
                    </Grid.ColumnDefinitions>

                    <Rectangle Grid.ColumnSpan="2" Margin="10,47,10,2" Fill="Black"/>

                    <StackPanel Grid.RowSpan="2">
                        <StackPanel Orientation="Horizontal"
                                    VerticalAlignment="Center">
                            <TextBlock Text="Customer Information"
                                      Margin="10,15,10,10"
                                      FontFamily="Inter"
                                      FontSize="18"
                                      FontWeight="Medium"
                                      Foreground="#181818"/>

                            <TextBox x:Name="txtCustomerSearch"
                                    Margin="0,10,0,5"
                                    Height="35"
                                    Padding="5"
                                    FontFamily="Inter"
                                    FontSize="14"
                                    FontWeight="Medium"
                                    VerticalContentAlignment="Center"
                                    Foreground="#181818" 
                                    Width="845"
                                    Background="Transparent"
                                    BorderBrush="Gray"
                                    BorderThickness="0,0,0,1"/>
                        </StackPanel>



                        <StackPanel Margin="10" Background="Transparent">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock x:Name="txtFirstName"
                                              Text="First Name "
                                              FontSize="24"
                                              FontFamily="Inter"
                                              FontWeight="Medium"/>
                                <TextBlock x:Name="txtLastName"
                                              Text="Last Name"
                                              FontSize="24"
                                              FontFamily="Inter"
                                              FontWeight="Medium"/>
                            </StackPanel>

                            <TextBlock x:Name="txtCustomerID"
                                          Text="Customer ID"
                                          FontSize="12"
                                          FontFamily= "Inter"
                                          FontWeight="Regular"
                                          FontStyle="Italic"
                                          Foreground="Gray"
                                          Margin="5"/>

                            <TextBlock x:Name="txtPhoneNumber"
                                          Text="Phone Number"
                                          FontSize="12"
                                          FontFamily= "Inter"
                                          FontWeight="Regular"
                                          FontStyle="Italic"
                                          Foreground="Gray"
                                          Margin="5"/>

                            <TextBlock x:Name="txtEmail"
                                          Text="Email Address"
                                          FontSize="12"
                                          FontFamily= "Inter"
                                          FontWeight="Regular"
                                          FontStyle="Italic"
                                          Foreground="Gray"
                                          Margin="5"/>

                            <TextBlock x:Name="txtLoyalty"
                                          Text="Loyalty Points"
                                          FontSize="12"
                                          FontFamily= "Inter"
                                          FontWeight="Regular"
                                          FontStyle="Italic"
                                          Foreground="Gray"
                                          Margin="5"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Buttons for adding/searching customers -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal">

                        <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="145" Margin="5,5,5,5"
                                Click="OnSearchCustomer_Click">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="UsersViewfinder" Style="{StaticResource DarkMinimalistButtonIcon}" />
                                <TextBlock Text="Customer Search" Style="{StaticResource DarkMinimalistButtonText}" />
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="145" Margin="5,5,5,5"
                                Click="OnAddCustomer_Click">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="UserPlus" Style="{StaticResource DarkMinimalistButtonIcon}" />
                                <TextBlock Text="Add New Customer" Style="{StaticResource DarkMinimalistButtonText}" />
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="100" Margin="0,5,5,5"
                               >
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="Trophy" Style="{StaticResource DarkMinimalistButtonIcon}" />
                                <TextBlock Text="Rewards" Style="{StaticResource DarkMinimalistButtonText}" />
                            </StackPanel>
                        </Button>


                    </StackPanel>
                </Grid>
            </Border>

            <!-- SUMMARY SECTION -->
            <Border Grid.Row="1"
                      Grid.Column="1"
                      Grid.RowSpan="4"
                      Margin="5,10,10,10"
                      CornerRadius="5">

                <Border.Background>
                    <LinearGradientBrush>
                        <GradientStop Color="{StaticResource windowBackgroundGradientStop1}" Offset="0"/>
                        <GradientStop Color="{StaticResource windowBackgroundGradientStop2}" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <Grid Grid.Row="1"
                        Grid.Column="1"
                        Grid.RowSpan="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="60"/>
                        <RowDefinition/>
                        <RowDefinition Height="75"/>
                        <RowDefinition Height="115"/>
                        <RowDefinition Height="100"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0"
                              Grid.Column="1"
                              Grid.ColumnSpan="2"
                              Orientation="Horizontal"
                              HorizontalAlignment="Right">
                        <Button Content="Add Item"
                                  Width="150"
                                  Margin="5"/>

                        <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="100" Margin="245,5,5,5" Click="OnAddTip_Click">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="PlusCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                                <TextBlock Text="Add Tip" Style="{StaticResource DarkMinimalistButtonText}" />
                            </StackPanel>

                        </Button>


                        <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="0,5,5,5"
                                Click="OnAddCustomItem_Click">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="Edit" Style="{StaticResource DarkMinimalistButtonIcon}" />
                                <TextBlock Text="Add Custom Item" Style="{StaticResource DarkMinimalistButtonText}" />
                            </StackPanel>

                        </Button>

                        <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="0,5,5,5"
                                Click="OnApplyPromotions_Click">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="Gifts" Style="{StaticResource DarkMinimalistButtonIcon}" />
                                <TextBlock Text="Apply Promotions" Style="{StaticResource DarkMinimalistButtonText}" />
                            </StackPanel>

                        </Button>

                        <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="0,5,5,5"
                                 Click="OnBtnViewEditTransaction_Click">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="InfoCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                                <TextBlock Text="View/Edit Transaction" Style="{StaticResource DarkMinimalistButtonText}" />
                            </StackPanel>

                        </Button>

                    </StackPanel>

                    <StackPanel Grid.Row="1"
                                Margin="10,20,10,5">

                        <StackPanel Orientation="Horizontal"
                                    VerticalAlignment="Center">
                            <StackPanel Width="665">
                                <StackPanel Orientation="Horizontal" 
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Left">

                                    <TextBlock Text="Transaction: "
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"
                                             Margin=" 1,0,0,0"/>

                                    <TextBlock x:Name="txtTransactionNumber"
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"
                                             Margin=" 1,0,10,0"/>

                                    <TextBlock Text="Register: "
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"
                                             Margin=" 1,0,0,0"/>

                                    <TextBlock x:Name="txtRegisterNumber"
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"
                                             Margin=" 1,0,15,0"/>


                                    <TextBlock Text="Store: "
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"/>

                                    <TextBlock x:Name="txtLocationID"
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"

                                             Width="50"
                                             Margin=" 1,0,10,0"/>

                                    <TextBlock Text="Associate: "
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                               Margin="230,0,0,0"
                                             Foreground="Gray"
                                             />

                                    <TextBlock x:Name="txtEmployeeName"
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"
                                             Text="{Binding employeeName}"
                                             Margin=" 1,0,0,0"/>


                                    <TextBlock x:Name="txtEmployeeID"
                                             FontSize="12"
                                             FontFamily="Inter"
                                             FontWeight="Medium"
                                             Foreground="Gray"
                                             Text="{Binding employeeID}"
                                             
                                             Opacity="1"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                        <Rectangle  Height="1"
                                    Margin="0,5,0,0"
                                     Width="770"
                                     Fill="Black"/>
                    </StackPanel>

                    <ListView x:Name="lvSummary"  
                                Grid.Row="1" 
                                Margin="10,55,10,10" 
                                FontFamily="Inter" 
                                FontWeight="Regular" 
                                Background="Transparent" 
                                BorderThickness="0" 
                                ItemsSource="{Binding SummaryItems}">
                        <ListView.GroupStyle>
                            <GroupStyle>
                                <GroupStyle.HeaderTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16" Foreground="Gray" />
                                    </DataTemplate>
                                </GroupStyle.HeaderTemplate>
                            </GroupStyle>
                        </ListView.GroupStyle>

                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="SKU" Width="150" DisplayMemberBinding="{Binding SKU}" />
                                <GridViewColumn Header="Product Name" Width="300" DisplayMemberBinding="{Binding ProductName}" />
                                <GridViewColumn Header="Price" Width="100" DisplayMemberBinding="{Binding Value, StringFormat=C}" />
                                <GridViewColumn Header="Category ID" DisplayMemberBinding="{Binding CategoryID}" Width="Auto"/>
                                <GridViewColumn Header="Discount" Width="100" DisplayMemberBinding="{Binding DiscountAmount, StringFormat=C}" />
                                <GridViewColumn Header="Promotions Applied" Width="300">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding PromotionsApplied}" TextWrapping="Wrap" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Actions" Width="150">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="Remove" Click="OnRemoveFromSummary_Click" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>

                        </ListView.View>
                    </ListView>




                    <StackPanel Grid.Row="2"
                                Margin="10,5,10,5">

                        <Rectangle Height="1"
                                    Width="770"
                                    Margin="0,-25,0,0"
                                    Fill="Black"/>

                        <StackPanel Orientation="Horizontal">

                            <StackPanel Width="255">

                                <StackPanel>

                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock 
                                                Text="Purchases Subtotal: "
                                                FontSize="12"
                                                FontFamily="Inter"
                                                FontWeight="Medium"
                                                Foreground="Gray"
                                                Margin="0,0,60,0"/>

                                        <TextBlock x:Name="txtSubtotal" 
                                                    Text="{Binding Subtotal, StringFormat=C2}"
                                                    FontSize="12"
                                                    FontFamily="Inter"
                                                    FontWeight="Medium"
                                                    Foreground="Gray"
                                                    TextAlignment="Right" />

                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,10,0,0">

                                        <TextBlock Text="Taxes Total: "
                                                    FontSize="12"
                                                    FontFamily="Inter"
                                                    FontWeight="Medium"
                                                    Foreground="Gray"
                                                    Margin="0,0,106,0"/>
                                        <TextBlock x:Name="txtTaxes"
                                                    Text="{Binding Taxes, StringFormat=C2}"
                                                    FontSize="12"
                                                    FontFamily="Inter"
                                                    FontWeight="Medium"
                                                    Foreground="Gray"
                                                    TextAlignment="Right" />

                                    </StackPanel>

                                </StackPanel>

                            </StackPanel>

                            <StackPanel Width="255">

                                <StackPanel>

                                    <StackPanel Orientation="Horizontal">

                                        <TextBlock Text="Trades Total: "
                                                    FontSize="12"
                                                    FontFamily="Inter"
                                                    FontWeight="Medium"
                                                    Foreground="Gray"
                                                        Margin="135,0,85,0"/>

                                        <TextBlock x:Name="txtTradeCredit"
                                                    Text="{Binding Trades, StringFormat=C2}"
                                                    FontSize="12"
                                                    FontFamily="Inter"
                                                    FontWeight="Medium"
                                                    Foreground="Gray"
                                                    TextAlignment="Right" />

                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,10,0,0">

                                        <TextBlock Text="Returns Subtotal: "
                                                    FontSize="12"
                                                    FontFamily="Inter"
                                                    FontWeight="Medium"
                                                    Foreground="Gray"
                                                    HorizontalAlignment="Right"
                                                    Margin="135,0,60,0"/>

                                        <TextBlock x:Name="txtReturnsSubtotal"
                                                    Text="{Binding Returns, StringFormat=C2}"
                                                    FontSize="12"
                                                    FontFamily="Inter"
                                                    FontWeight="Medium"
                                                    Foreground= "Gray"
                                                    TextAlignment="Right"/>

                                    </StackPanel>

                                </StackPanel>

                            </StackPanel>

                        </StackPanel>

                        <Rectangle Height="1"
                                 Width="770"
                                 Margin="0,15,0,0"
                                 Fill="Black"/>

                    </StackPanel>
                    <StackPanel Grid.Row="3"
                                  Margin="10,10,10,5"
                                  HorizontalAlignment="Right"
                                  DataContext="{Binding transactionSummary, RelativeSource={RelativeSource AncestorType=Window}}">

                        <TextBlock x:Name="txtTotal"
                                     Text="{Binding Total, StringFormat=C2}" 
                                     FontFamily="Inter"
                                     FontSize="50"
                                     FontWeight="Light"
                                     Foreground="#181818"
                                     TextAlignment="Right"/>

                        <TextBlock Margin="0,0,5,0"
                                     Text="Total"
                                     FontFamily="Inter"
                                     FontSize="10"
                                     FontWeight="Medium"
                                     Foreground="Gray"
                                     TextAlignment="Right"/>
                    </StackPanel>



                    <StackPanel Grid.Row="4"
                                Margin="10,5,10,5">

                        <Rectangle Height="1"
                                   Width="770"
                                   Margin="0,-25,0,0"
                                   Fill="Black"/>

                        <StackPanel Orientation="Horizontal">

                            <StackPanel Width="255">

                                <StackPanel>

                                    <StackPanel Orientation="Horizontal">

                                        <TextBlock Text="Discounts: "
                                                     FontSize="12"
                                                     FontFamily="Inter"
                                                     FontWeight="Medium"
                                                     Foreground="Gray"
                                                      Margin="0,0,114,0"/>

                                        <TextBlock x:Name="txtDiscounts" 
                                                     Text="{Binding Discounts, StringFormat=C2}"
                                                     FontSize="12"
                                                     FontFamily="Inter"
                                                     FontWeight="Medium"
                                                     Foreground="Gray"
                                                     TextAlignment="Right" />

                                    </StackPanel>



                                </StackPanel>

                            </StackPanel>

                            <StackPanel Width="255">

                                <StackPanel>

                                    <StackPanel Orientation="Horizontal">

                                        <TextBlock Text="Trade Bonuses: "
                                                   FontSize="12"
                                                   FontFamily="Inter"
                                                   Margin="135,0,0,0"
                                                   FontWeight="Medium"
                                                   Foreground="Gray"/>

                                        <TextBlock  x:Name="txtTradeBonuses"
                                                       Margin="0,0,65,0"
                                                       FontSize="12"
                                                       FontFamily="Inter"
                                                       FontWeight="Medium"
                                                       Foreground="Gray"
                                                       TextAlignment="Right"/>

                                    </StackPanel>



                                </StackPanel>

                            </StackPanel>

                        </StackPanel>

                        <Rectangle Height="1"
                                   Width="770"
                                   Margin="0,10,0,0"
                                   Fill="Black"/>



                    </StackPanel>

                </Grid>


            </Border>

            <!-- END TRANSACTION BUTTONS SECTION-->
            <StackPanel Grid.Row="4"
                      Grid.Column="1"
                      Orientation="Horizontal"
                      VerticalAlignment="Center" Margin="5,0,0,5">


                <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="5" Height="45"
                     Click="OnSuspendTransaction_Click">
                    <StackPanel Orientation="Horizontal">
                        <fa:IconImage Icon="PauseCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                        <TextBlock Text="Suspend" Style="{StaticResource CheckoutButtonText}" />
                    </StackPanel>

                </Button>


                <Button Style="{StaticResource DarkMinimalistButtonStyle}" Width="175" Margin="5" Height="45"
                     >
                    <StackPanel Orientation="Horizontal">
                        <fa:IconImage Icon="StopCircle" Style="{StaticResource DarkMinimalistButtonIcon}" />
                        <TextBlock Text="Void" Style="{StaticResource CheckoutButtonText}" />
                    </StackPanel>

                </Button>

                <Button Style="{StaticResource CheckOutButton}" Width="305" Margin="5"
                       Click="OnBtnCheckOut_Click">
                    <StackPanel Orientation="Horizontal">
                        <fa:IconImage Icon="ShoppingCart" Style="{StaticResource DarkMinimalistButtonIcon}" />
                        <TextBlock Text="Check Out" Style="{StaticResource CheckoutButtonText}" />
                    </StackPanel>

                </Button>


            </StackPanel>

            <!-- ITEM SEARCH SECTION -->










            <!-- QUICK SELECT PANEL -->
            <Grid x:Name="QuickSelectPanel" Grid.Row="2" Grid.Column="0" Margin="10,10,5,5" Visibility="Collapsed">
                <Border CornerRadius="5" Background="LightGray">
                    <StackPanel>
                        <TextBlock Text="Quick Select" FontSize="16" FontWeight="Bold" Margin="10,5,0,5"/>

                        <!-- Section for Products -->
                        <TextBlock Text="Products" FontSize="14" FontWeight="SemiBold" Margin="10,5,0,5"/>
                        <UniformGrid x:Name="QuickSelectProductGrid" Rows="3" Columns="4" Margin="10"/>

                        <!-- Section for Combos -->
                        <TextBlock Text="Combos" FontSize="14" FontWeight="SemiBold" Margin="10,15,0,5"/>
                        <UniformGrid x:Name="QuickSelectComboGrid" Rows="3" Columns="4" Margin="10"/>
                    </StackPanel>
                </Border>
            </Grid>

            <Frame x:Name="pointOfSaleFrame" Grid.RowSpan="5" NavigationUIVisibility="Hidden" Navigated="pointOfSaleFrame_Navigated" Margin="-10,10,0,0"/>
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <!-- Takes up remaining space (SearchBar) -->
                    <ColumnDefinition Width="Auto" />
                    <!-- Auto-sized for Button -->
                </Grid.ColumnDefinitions>

                <!-- Search Bar aligned to the left -->
                <local:PointOfSaleSearchBar x:Name="ItemSearchBar" Margin="10,10,5,5" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" />

                <!-- Button aligned to the right -->
                <Button x:Name="btnToggleQuickSelect"
                        Style="{StaticResource DarkMinimalistButtonStyle}" Width="175"
                        Click="OnToggleQuickSelect_Click"
                        Margin="0,10,5,0"
                        Grid.Column="1"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <fa:IconImage Icon="Grip" Style="{StaticResource DarkMinimalistButtonIcon}" />
                        <TextBlock Text="Show Quick Select" Style="{StaticResource DarkMinimalistButtonText}" />
                    </StackPanel>
                </Button>
            </Grid>



        </Grid>
    </Grid>

</Window>
